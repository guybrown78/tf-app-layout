

<!-- (window:resize)="onScreenResize()"  -->
<nz-layout class="app-layout">

  <nz-layout  class="tf-layout-side-column">
    <div #sideBarColumn class="side-bar-left-column">
      <div class="tf-layout-header-content justify-content-center">
        <tf-ng-hexagon colour="white" size="m" [as-button]="false">
          <tf-ng-product-initials
            colour="blue"
            code="t"
            size="m"
          ></tf-ng-product-initials>
        </tf-ng-hexagon>
      </div>

      <div class="tf-layout-body-content justify-content-center">
        <tf-ng-hexagon
          (click)="onToggleMenuIconClicked('app-menu')"
          colour="blue"
          outline-colour="white"
          size="m"
          [as-button]="false"
        >
          <i nz-icon
          [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
          ></i>
        </tf-ng-hexagon>
      </div>

      <div class="tf-layout-footer-content justify-content-center">
        <tf-ng-hexagon
          (click)="onToggleMenuIconClicked('app-store')"
          colour="blue"
          outline-colour="white"
          size="m"
          [as-button]="false"
        >
          <i nz-icon nzType="appstore" nzTheme="outline"></i>
        </tf-ng-hexagon>
      </div>

    </div>
  </nz-layout>

  <nz-layout class="app-content">
    <nz-header class="app-header">
      <tf-ng-header
        [show-app-logo]="isMobile ? true : false"
        [is-logo-clickable]="false"
        app-code="T"
        [app-logo-size]="'m'"
      >

        <div headerIcons *ngIf="isMobile" >
          <tf-ng-hexagon
            (click)="onToggleMenuIconClicked('app-menu')"
            size="m"
            colour="blue"
            outline-colour="white"
          >
            <i nz-icon class="white"
            [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
            ></i>
          </tf-ng-hexagon>
        </div>

        <div quickLinks>
          <button
            nz-button
            nz-dropdown
            nzTrigger="click"
            nzPlacement="bottom"
            [nzDropdownMenu]="headerQuickLinksMenu"
            class="tf-app-quick-link-btn"
          >
            <tf-ng-hexagon
              size="xl"
              colour="aqua"
              outline-colour="blue"
            >
              <i nz-icon nzType="plus" nzTheme="outline" class="tf-app-quick-link-icon"></i>
            </tf-ng-hexagon>
          </button>
        </div>
        <!-- QL template -->
        <nz-dropdown-menu #headerQuickLinksMenu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item>Add User</li>
            <li nz-menu-item>Add Course</li>
          </ul>
        </nz-dropdown-menu>

        <tf-ng-client-logo
          #tfAppHeaderClientLogo
          id="tfAppHeaderClientLogo"
          clientLogo
          [client-logo-source]="clientLogoSource"
          [show-user-account]="false"
        >
        </tf-ng-client-logo>

      </tf-ng-header>
    </nz-header>

    <tf-ng-main-content>
      <router-outlet #outlet="outlet"></router-outlet>
    </tf-ng-main-content>

  </nz-layout>
</nz-layout>

<!--
<div class="tf-mobile-float-menu">
  <button
    nz-button
    nzPlacement="bottom"
    class="tf-app-quick-link-btn"
    (click)="onToggleMenuIconClicked('app-menu')"
  >
    <tf-ng-hexagon
      size="sm"
      colour="aqua"
      outline-colour="blue"
    >
      <i nz-icon nzType="menu" nzTheme="outline" class="tf-app-quick-link-icon"></i>
    </tf-ng-hexagon>
  </button>
</div> -->

<!-- Side -->
<nz-drawer
  [nzClosable]="false"
  [nzVisible]="!isCollapsed"
  nzPlacement="left"
  [nzTitle]="isMobile ? mobileMenuDrawHeader : menuDrawHeader"
  [nzOffsetX]="isMobile ? 0 : 80"
  [nzWidth]="isMobile ? '100%' : 260"
  [nzWrapClassName]="isMobile ? 'tf-draw-menu mobile' : 'tf-draw-menu'"
  (nzOnClose)="onItemSelected()"
>
  <ng-container *nzDrawerContent>
    <div *ngIf="currentMenuType === 'app-menu'" class="tf-layout-body-content">
      <ul class="mobile-menu" nz-menu nzTheme="dark" nzMode="inline" [nzInlineCollapsed]="isCollapsed">
        <li nz-submenu nzOpen nzTitle="Dashboard" nzIcon="dashboard">
          <ul>
            <li nz-menu-item nzMatchRouter>
              <a routerLink="/welcome" (click)="onItemSelected()">Welcome</a>
            </li>
            <li nz-menu-item nzMatchRouter>
              <a routerLink="/monitor" (click)="onItemSelected()">Monitor</a>
            </li>
            <li nz-menu-item nzMatchRouter>
              <a>Workplace</a>
            </li>
          </ul>
        </li>
        <li nz-submenu nzOpen nzTitle="Form" nzIcon="form">
          <ul>
            <li nz-menu-item nzMatchRouter>
              <a>Basic Form</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    <div
      *ngIf="currentMenuType === 'app-store'"
      class="tf-layout-body-content"
    >
      <tf-ng-item colour="dark" bottom>
        <h5 nz-typography class="white">Your apps</h5>
        <div nz-row [nzGutter]="[4, 4]">
          <div nz-col class="app-selection-row" nzJustify="start" [nzSpan]="4" *ngFor="let app of appList">
            <tf-ng-hexagon
              nz-tooltip
              [nzTooltipTitle]="app.name"
              nzTooltipOverlayClassName="tf-tooltip-white"
              nzTooltipPlacement="right"
              colour="white" outline-colour="blue"
              size="xs"
              (click)="onAppSelected(app.code)"
            >
              <i
                nz-icon
                nzType="appstore"
                nzTheme="outline"
                *ngIf="app.code ==='home'"
              ></i>
              <tf-ng-product-initials
                colour="blue"
                [code]="app.code"
                size="xs"
                *ngIf="app.code !=='home'"
              ></tf-ng-product-initials>
            </tf-ng-hexagon>
          </div>
        </div>
      </tf-ng-item>
    </div>


  </ng-container>





</nz-drawer>



<!-- Desktop menu header -->
<ng-template #menuDrawHeader>
  <div class="menu-draw-header-template">
    <span *ngIf="currentMenuType === 'app-menu'">App navigation</span>
    <span *ngIf="currentMenuType === 'app-store'">Switch apps</span>
    <i nz-icon class="blue" nzType="close" (click)="onCloseDrawer()"></i>
  </div>
</ng-template>

<!-- Mobile menu header -->
<ng-template #mobileMenuDrawHeader>
  <div class="mobile-menu-draw-header-template">
    <tf-ng-hexagon
      (click)="onCloseDrawer()"
      size="m"
      colour="white"
      outline-colour="blue"
    >
      <i nz-icon class="blue" nzType="close"></i>
    </tf-ng-hexagon>

    <tf-ng-hexagon
      (click)="onToggleMenuIconClicked('app-menu')"
      size="m"
      colour="white"
      outline-colour="blue"
    >
      <i nz-icon class="blue" nzType="menu" nzTheme="outline"></i>
    </tf-ng-hexagon>

    <tf-ng-hexagon
      (click)="onToggleMenuIconClicked('app-store')"
      size="m"
      colour="white"
      outline-colour="blue"
    >
      <i nz-icon class="blue" nzType="appstore" nzTheme="outline"></i>
    </tf-ng-hexagon>

  </div>
</ng-template>


<!-- Mobile Bottom  -->
<!-- <nz-drawer
  [nzClosable]="false"
  [nzPlacement]="'bottom'"
  [nzHeight]="100"
  [nzVisible]="!footerMenuIsCollapsed"
  nzZIndex="1000"
  nzMaskClosable=false
  nzMask=false
  nzWrapClassName="tf-bottom-mobile-initial-drawer"
  [nzMaskStyle]="bottomDrawMaskStyle"
  (nzOnClose)="onFloatingMenuClicked()"
>
  <ng-container *nzDrawerContent>
    <div class="tf-mobile-menu-footer-content">
      <tf-ng-hexagon
        (click)="onFooterMenuClicked('app-menu')"
        colour="blue"
        outline-colour="white"
        size="xs"
        [as-button]="false"
      >
        <i nz-icon
        [nzType]="isCollapsed ? 'menu-unfold' : 'menu-fold'"
        ></i>
      </tf-ng-hexagon>


      <tf-ng-hexagon
        (click)="onFooterMenuClicked('app-store')"
        colour="blue"
        outline-colour="white"
        size="xs"
        [as-button]="false"
      >
        <i nz-icon nzType="appstore" nzTheme="outline"></i>
      </tf-ng-hexagon>


    </div>
  </ng-container> -->

  <!-- Mobile Sub -->
  <!-- <nz-drawer
  [nzClosable]="true"
  [nzPlacement]="'bottom'"
  [nzHeight]="'calc(100% - 100px)'"
  [nzVisible]="!footerMenuItemsIsCollapsed"
  [nzTitle]="menuDrawHeader"
  [nzOffsetY]="100"
  (nzOnClose)="onFloatingMenuClicked()"
  >
  <ng-container *nzDrawerContent>
    <p>Some contents...</p>
    <p>Some contents...</p>
    <p>Some contents...</p>
    <button (click)="onTestClicked('TEST')">Test!!!!!</button>
  </ng-container>
  </nz-drawer>

</nz-drawer> -->
